<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simple Chat Protocol (SCP) - Project Documentation</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Top Navigation Buttons -->
    <div class="top-nav">
      <button class="top-nav-btn" id="learnBtn">ğŸ“š Learn</button>
      <button class="top-nav-btn" id="developedByBtn">ğŸ‘¥ Developed By</button>
      <button class="top-nav-btn" id="helpBtn">â“ Help</button>
      <button class="top-nav-btn" id="downloadBtn">â¬‡ï¸ Download</button>
    </div>

    <header>
      <h1>ğŸŒ Simple Chat Protocol (SCP)</h1>
      <p class="subtitle">Design Your Own Protocol - Computer Networks Project</p>
      <p class="subtitle" style="margin-top: 10px; font-size: 0.95em;">A Custom Application-Layer Protocol with Reliable Message Delivery</p>
    </header>

    <nav class="nav-tabs">
      <button class="tab-btn active" data-tab="overview">Overview</button>
      <button class="tab-btn" data-tab="protocol">Protocol Design</button>
      <button class="tab-btn" data-tab="implementation">C Implementation</button>
      <button class="tab-btn" data-tab="simulator">Live Simulator</button>
      <button class="tab-btn" data-tab="results">Results & Testing</button>
      <button class="tab-btn" data-tab="conclusion">Conclusion</button>
    </nav>

    <!-- OVERVIEW TAB -->
    <div id="overview" class="tab-content active">
      <div class="section">
        <h2>ğŸ“‹ Project Overview</h2>
        
        <h3>Aim</h3>
        <p>To design and implement a custom application-layer communication protocol called <span class="highlight">Simple Chat Protocol (SCP)</span> that enables <strong>duplex (bidirectional)</strong> reliable message exchange between a client and server using C programming language over TCP/IP sockets.</p>

        <h3>Objectives</h3>
        <ul>
          <li>Design a custom message format with protocol headers and data fields</li>
          <li>Implement connection establishment and termination procedures</li>
          <li>Create acknowledgment (ACK) mechanism for reliable delivery</li>
          <li>Handle timeouts and retransmission logic</li>
          <li>Enable <strong>duplex communication</strong> - both client and server can send/receive messages</li>
          <li>Demonstrate error handling and packet loss scenarios</li>
          <li>Build interactive visualization to understand protocol behavior</li>
        </ul>

        <h3>Tools & Technologies</h3>
        <table>
          <tr>
            <th>Component</th>
            <th>Technology</th>
            <th>Purpose</th>
          </tr>
          <tr>
            <td>Core Implementation</td>
            <td>C Language</td>
            <td>Protocol logic, socket programming</td>
          </tr>
          <tr>
            <td>Network Layer</td>
            <td>TCP Sockets</td>
            <td>Reliable byte-stream transport</td>
          </tr>
          <tr>
            <td>Threading</td>
            <td>POSIX Threads (pthread)</td>
            <td>Simultaneous send/receive operations</td>
          </tr>
          <tr>
            <td>Compiler</td>
            <td>GCC (Linux) / MinGW (Windows)</td>
            <td>Building executables</td>
          </tr>
          <tr>
            <td>Visualization</td>
            <td>HTML/CSS/JavaScript</td>
            <td>Interactive protocol simulator</td>
          </tr>
        </table>

        <h3>Theory & Background</h3>
        
        <h4>What is a Communication Protocol?</h4>
        <p>A communication protocol is a system of rules that allows two or more entities to transmit information. It defines:</p>
        <ul>
          <li><strong>Syntax:</strong> Structure and format of data (message format)</li>
          <li><strong>Semantics:</strong> Meaning of each section of bits (what each field represents)</li>
          <li><strong>Timing:</strong> When to send data and how fast (synchronization)</li>
        </ul>

        <h4>Duplex Communication</h4>
        <p>Our SCP protocol implements <span class="highlight">full-duplex communication</span>, where both client and server can send and receive messages simultaneously. This is achieved using:</p>
        <ul>
          <li><strong>Multi-threading:</strong> Separate threads for sending and receiving</li>
          <li><strong>Non-blocking I/O:</strong> Allows concurrent operations</li>
          <li><strong>Bidirectional ACKs:</strong> Both sides acknowledge received messages</li>
        </ul>

        <h4>OSI Model Context</h4>
        <p>SCP operates at the <span class="highlight">Application Layer (Layer 7)</span> of the OSI model, similar to HTTP, FTP, or SMTP. It uses TCP (Transport Layer) for underlying reliable communication.</p>

        <h4>Key Concepts in SCP</h4>
        <div class="flow-step">
          <strong>1. Message Format:</strong> Structured packets with version, type, ID, and payload
        </div>
        <div class="flow-step">
          <strong>2. Acknowledgments (ACK):</strong> Both sides confirm receipt of each message
        </div>
        <div class="flow-step">
          <strong>3. Timeouts & Retries:</strong> Sender resends if ACK not received within timeout period
        </div>
        <div class="flow-step">
          <strong>4. Connection Management:</strong> Proper setup (HELLO) and teardown (BYE) phases
        </div>
        <div class="flow-step">
          <strong>5. Duplex Communication:</strong> Both parties can initiate messages simultaneously
        </div>

        <div class="success">
          <strong>ğŸ’¡ Learning Outcome:</strong> By implementing SCP, you understand how application protocols work at a fundamental level, including reliability mechanisms and duplex communication patterns.
        </div>
      </div>
    </div>

    <!-- PROTOCOL DESIGN TAB -->
    <div id="protocol" class="tab-content">
      <div class="section">
        <h2>ğŸ”§ Protocol Design Specification</h2>

        <h3>SCP Message Format</h3>
        <p>Every SCP message follows this standardized format:</p>
        
        <div class="protocol-diagram">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCP/1.0 | MSG_TYPE | id=MESSAGE_ID | PAYLOAD_DATA         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Components:
  â€¢ SCP/1.0      â†’ Protocol version identifier
  â€¢ MSG_TYPE     â†’ Message type (HELLO, MSG, ACK, BYE, ERROR)
  â€¢ id=XXX       â†’ Unique message identifier (integer)
  â€¢ PAYLOAD_DATA â†’ Actual message content or status
</pre>
        </div>

        <h3>Message Types</h3>
        <table>
          <tr>
            <th>Type</th>
            <th>Direction</th>
            <th>Purpose</th>
            <th>Example</th>
          </tr>
          <tr>
            <td><strong>HELLO</strong></td>
            <td>Bidirectional</td>
            <td>Initiate connection</td>
            <td><code>SCP/1.0 | HELLO | id=0 | ClientName</code></td>
          </tr>
          <tr>
            <td><strong>MSG</strong></td>
            <td>Bidirectional</td>
            <td>Send chat message</td>
            <td><code>SCP/1.0 | MSG | id=1 | Hello World</code></td>
          </tr>
          <tr>
            <td><strong>ACK</strong></td>
            <td>Bidirectional</td>
            <td>Acknowledge receipt</td>
            <td><code>SCP/1.0 | ACK | id=1 | MSG_RECEIVED</code></td>
          </tr>
          <tr>
            <td><strong>BYE</strong></td>
            <td>Bidirectional</td>
            <td>Terminate connection</td>
            <td><code>SCP/1.0 | BYE | id=99 | DISCONNECT</code></td>
          </tr>
          <tr>
            <td><strong>ERROR</strong></td>
            <td>Bidirectional</td>
            <td>Report errors</td>
            <td><code>SCP/1.0 | ERROR | id=1 | INVALID_FORMAT</code></td>
          </tr>
        </table>

        <h3>Duplex Protocol Flow Diagram</h3>
        <div class="protocol-diagram">
<pre>
CLIENT                                    SERVER
  â”‚                                         â”‚
  â”‚â”€â”€â”€â”€ HELLO (id=0) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  Connection Setup
  â”‚<â”€â”€â”€â”€ ACK (id=0) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                                         â”‚
  â”‚â”€â”€â”€â”€ MSG (id=1, "Hi!") â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  Client â†’ Server
  â”‚<â”€â”€â”€â”€ ACK (id=1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                                         â”‚
  â”‚<â”€â”€â”€â”€ MSG (id=1, "Hello!") â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Server â†’ Client
  â”‚â”€â”€â”€â”€ ACK (id=1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                                         â”‚
  â”‚â”€â”€â”€â”€ MSG (id=2, "How are you?") â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  
  â”‚  X   (packet lost)                      â”‚  Timeout!
  â”‚                                         â”‚
  â”‚â”€â”€â”€â”€ MSG (id=2, "How are you?") â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  Retry
  â”‚<â”€â”€â”€â”€ ACK (id=2) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                                         â”‚
  â”‚<â”€â”€â”€â”€ MSG (id=2, "I'm fine!") â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Simultaneous
  â”‚â”€â”€â”€â”€ ACK (id=2) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  Communication
  â”‚                                         â”‚
  â”‚â”€â”€â”€â”€ BYE (id=3) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  Termination
  â”‚<â”€â”€â”€â”€ ACK (id=3) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                                         â”‚
  â”‚           [Connection Closed]           â”‚
</pre>
        </div>

        <h3>Duplex Communication Architecture</h3>
        <div class="code-block">
<pre>
Each endpoint (Client/Server) has:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   Main Thread               â”‚
  â”‚   - Initialize connection   â”‚
  â”‚   - Create send/recv threadsâ”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚         â”‚
           â–¼         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Send    â”‚  â”‚ Receive  â”‚
  â”‚  Thread  â”‚  â”‚  Thread  â”‚
  â”‚          â”‚  â”‚          â”‚
  â”‚ - Read   â”‚  â”‚ - Listen â”‚
  â”‚   input  â”‚  â”‚   socket â”‚
  â”‚ - Format â”‚  â”‚ - Parse  â”‚
  â”‚ - Send   â”‚  â”‚ - ACK    â”‚
  â”‚ - Wait   â”‚  â”‚ - Displayâ”‚
  â”‚   ACK    â”‚  â”‚          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
        </div>

        <h3>Protocol Parameters</h3>
        <table>
          <tr>
            <th>Parameter</th>
            <th>Default Value</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>VERSION</td>
            <td>1.0</td>
            <td>Protocol version number</td>
          </tr>
          <tr>
            <td>MAX_MESSAGE_SIZE</td>
            <td>1024 bytes</td>
            <td>Maximum payload size</td>
          </tr>
          <tr>
            <td>ACK_TIMEOUT</td>
            <td>5 seconds</td>
            <td>Wait time for acknowledgment</td>
          </tr>
          <tr>
            <td>MAX_RETRIES</td>
            <td>3</td>
            <td>Maximum resend attempts</td>
          </tr>
          <tr>
            <td>PORT</td>
            <td>8080</td>
            <td>Default server port</td>
          </tr>
        </table>
      </div>
    </div>

    <!-- IMPLEMENTATION TAB -->
    <div id="implementation" class="tab-content">
      <div class="section">
        <h2>ğŸ’» C Language Implementation</h2>

        <div class="success">
          <strong>ğŸ“¦ Download Complete Source Code:</strong><br>
          <a href="#" class="download-btn" onclick="downloadFile('scp_server_duplex.c', getServerCode()); return false;">Download scp_server_duplex.c</a>
          <a href="#" class="download-btn" onclick="downloadFile('scp_client_duplex.c', getClientCode()); return false;">Download scp_client_duplex.c</a>
          <a href="#" class="download-btn" onclick="downloadFile('Makefile', getMakefile()); return false;">Download Makefile</a>
        </div>

        <h3>Project Structure</h3>
        <div class="code-block">
<pre>
scp_project/
â”œâ”€â”€ scp_server_duplex.c    # Server with duplex communication
â”œâ”€â”€ scp_client_duplex.c    # Client with duplex communication
â”œâ”€â”€ Makefile               # Build configuration
â””â”€â”€ README.md              # Documentation
</pre>
        </div>

        <h3>Key Implementation Features</h3>
        <ul>
          <li><strong>Multi-threading:</strong> Uses pthread library for concurrent send/receive</li>
          <li><strong>Thread-safe message IDs:</strong> Mutex-protected counter for unique IDs</li>
          <li><strong>Non-blocking input:</strong> Separate threads don't block each other</li>
          <li><strong>Graceful shutdown:</strong> Proper thread cleanup and socket closure</li>
        </ul>

        <h3>Compilation & Execution</h3>
        
        <h4>Build Instructions</h4>
        <div class="code-block">
<pre>
# Linux / macOS
$ make
$ ./scp_server_duplex    # Terminal 1
$ ./scp_client_duplex    # Terminal 2

# With threading support
$ gcc -o scp_server_duplex scp_server_duplex.c -lpthread
$ gcc -o scp_client_duplex scp_client_duplex.c -lpthread

# Windows (MinGW)
$ gcc -o scp_server_duplex.exe scp_server_duplex.c -lws2_32 -lpthread
$ gcc -o scp_client_duplex.exe scp_client_duplex.c -lws2_32 -lpthread
</pre>
        </div>

        <h3>How Duplex Communication Works</h3>
        
        <div class="flow-step">
          <strong>Step 1: Connection Establishment</strong>
          <ul>
            <li>Server creates socket, binds, and listens</li>
            <li>Client connects to server</li>
            <li>Both exchange HELLO messages</li>
            <li>Connection confirmed with ACKs</li>
          </ul>
        </div>

        <div class="flow-step">
          <strong>Step 2: Thread Creation</strong>
          <ul>
            <li>Main thread spawns send_thread and recv_thread</li>
            <li>Send thread: Reads user input, formats SCP messages, sends data</li>
            <li>Receive thread: Listens on socket, parses messages, displays content</li>
            <li>Both threads run concurrently</li>
          </ul>
        </div>

        <div class="flow-step">
          <strong>Step 3: Bidirectional Messaging</strong>
          <ul>
            <li>Either party can send message at any time</li>
            <li>Receiver immediately sends ACK upon receipt</li>
            <li>Sender waits for ACK with timeout</li>
            <li>If no ACK, message is retransmitted</li>
          </ul>
        </div>

        <div class="flow-step">
          <strong>Step 4: Termination</strong>
          <ul>
            <li>User types "quit"</li>
            <li>BYE message sent to other party</li>
            <li>Threads are terminated gracefully</li>
            <li>Sockets closed, resources freed</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- SIMULATOR TAB -->
    <div id="simulator" class="tab-content">
      <div class="section">
        <h2>ğŸ® Interactive Duplex Protocol Simulator</h2>
        <p>Visualize bidirectional SCP communication with network delays, packet loss, and retransmissions!</p>

        <div class="controls">
          <h3>Simulation Controls</h3>
          <div class="control-row">
            <label for="delayRange">Network Delay: <strong><span id="delayVal">600</span> ms</strong></label>
            <input id="delayRange" type="range" min="0" max="3000" value="600" />
          </div>
          <div class="control-row">
            <label for="lossRange">Packet Loss: <strong><span id="lossVal">10</span>%</strong></label>
            <input id="lossRange" type="range" min="0" max="100" value="10" />
          </div>
          <div class="control-row">
            <label for="timeoutRange">ACK Timeout: <strong><span id="timeoutVal">2000</span> ms</strong></label>
            <input id="timeoutRange" type="range" min="300" max="8000" value="2000" step="100" />
          </div>
          <div class="control-row">
            <label>
              <input id="lossToggle" type="checkbox" checked /> Enable packet loss simulation
            </label>
          </div>
          <div class="control-row">
            <label for="maxRetries">Max Retries:</label>
            <select id="maxRetries">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3" selected>3</option>
              <option value="5">5</option>
            </select>
          </div>
          <div class="control-row">
            <button id="clearLog" style="width: 100%; padding: 10px;">Clear All Logs</button>
          </div>
        </div>

        <div class="simulator-container">
          <div class="panels">
            <div class="panel" id="clientPanel">
              <div class="panel-title">ğŸ“± Client (Duplex)</div>
              <div class="console" id="clientConsole"></div>
              <form id="sendFormClient" class="send-form">
                <input id="messageInputClient" type="text" placeholder="Client: Type message..." required autocomplete="off" />
                <button type="submit">Send</button>
              </form>
            </div>
            
            <div class="panel" id="serverPanel">
              <div class="panel-title">ğŸ–¥ï¸ Server (Duplex)</div>
              <div class="console" id="serverConsole"></div>
              <form id="sendFormServer" class="send-form">
                <input id="messageInputServer" type="text" placeholder="Server: Type message..." required autocomplete="off" />
                <button type="submit">Send</button>
              </form>
            </div>
          </div>
          <div class="overlay" id="overlay"></div>
          
          <div style="margin-top: 20px;">
            <h4 style="color: #5eead4;">ğŸ“Š Event Log</h4>
            <div id="eventLog" class="event-log"></div>
          </div>
        </div>

        <div class="success" style="margin-top: 30px;">
          <strong>ğŸ’¡ Try This:</strong>
          <ul>
            <li><strong>Duplex messaging:</strong> Type in both Client and Server input boxes</li>
            <li>Send messages from both sides simultaneously</li>
            <li>Set packet loss to 50% and observe retry behavior</li>
            <li>Watch how ACKs flow in both directions</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- RESULTS TAB -->
    <div id="results" class="tab-content">
      <div class="section">
        <h2>ğŸ“Š Results & Testing</h2>

        <h3>Sample Execution - Duplex Communication</h3>
        <div class="code-block">
<pre style="color: #7df59f;">
Terminal 1 - Server:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  SCP Server v1.0 (Duplex Mode)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸŸ¢ Listening on port 8080...
âœ“ Client connected

[14:23:15] RECV: SCP/1.0 | MSG | id=1 | Hello from client
[14:23:15] SEND: SCP/1.0 | ACK | id=1 | MSG_RECEIVED

Server> Hi there!
[14:23:20] SEND: SCP/1.0 | MSG | id=1 | Hi there!
[14:23:20] RECV: SCP/1.0 | ACK | id=1 | MSG_RECEIVED
         âœ“ ACK received

Terminal 2 - Client:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  SCP Client v1.0 (Duplex Mode)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ“ Connected to server

Client> Hello from client
[14:23:15] SEND: SCP/1.0 | MSG | id=1 | Hello from client
[14:23:15] RECV: SCP/1.0 | ACK | id=1 | MSG_RECEIVED
         âœ“ ACK received

[14:23:20] RECV: SCP/1.0 | MSG | id=1 | Hi there!
[14:23:20] SEND: SCP/1.0 | ACK | id=1 | MSG_RECEIVED
Server says: Hi there!
</pre>
        </div>

        <h3>Testing Scenarios</h3>

        <h4>Scenario 1: Duplex Normal Operation</h4>
        <table>
          <tr>
            <th>Action</th>
            <th>Expected Result</th>
            <th>Status</th>
          </tr>
          <tr>
            <td>Client sends message</td>
            <td>Server receives + sends ACK</td>
            <td>âœ… Pass</td>
          </tr>
          <tr>
            <td>Server sends message</td>
            <td>Client receives + sends ACK</td>
            <td>âœ… Pass</td>
          </tr>
          <tr>
            <td>Simultaneous sending</td>
            <td>Both messages delivered</td>
            <td>âœ… Pass</td>
          </tr>
        </table>
      </div>
    </div>

    <!-- CONCLUSION TAB -->
    <div id="conclusion" class="tab-content">
      <div class="section">
        <h2>ğŸ“ Conclusion</h2>

        <h3>Project Summary</h3>
        <p>This project successfully demonstrated the design and implementation of a <strong>duplex communication protocol</strong> called Simple Chat Protocol (SCP). The protocol enables bidirectional, reliable message exchange between a client and server using TCP sockets and multi-threading in C.</p>

        <h3>Key Achievements</h3>
        <div class="flow-step">
          <strong>âœ… Duplex Communication</strong>
          <p>Implemented full-duplex communication where both client and server can send and receive messages simultaneously using multi-threading.</p>
        </div>

        <div class="flow-step">
          <strong>âœ… Protocol Design</strong>
          <p>Created a well-structured message format with version headers, message types, unique identifiers, and payload data.</p>
        </div>

        <div class="flow-step">
          <strong>âœ… Reliability Mechanisms</strong>
          <p>Implemented bidirectional acknowledgment system, timeout handling, and automatic retransmission.</p>
        </div>

        <div class="success" style="text-align: center; padding: 30px;">
          <h3 style="color: #5eead4; margin-bottom: 15px;">ğŸ‰ Project Complete!</h3>
          <p style="font-size: 1.1em;">Successfully implemented duplex Simple Chat Protocol.</p>
        </div>
      </div>
    </div>

    <footer>
      <p><strong>Simple Chat Protocol (SCP) v1.0 - Duplex Mode</strong></p>
      <p>Computer Networks Lab Project - Design Your Own Protocol</p>
    </footer>
  </div>

  <!-- Modal Popups -->
  <!-- Learn Modal -->
  <div id="learnModal" class="modal">
    <div class="modal-content">
      <span class="close" data-modal="learnModal">&times;</span>
      <h2>ğŸ“š Learn About Simple Chat Protocol</h2>
      
      <div class="modal-section">
        <h3>ğŸ“– Reference Materials</h3>
        <p><strong>From Prescribed Textbook:</strong></p>
        <ul>
          <li><strong>Computer Networks</strong> by Andrew S. Tanenbaum & David J. Wetherall
            <ul>
              <li>Chapter 1: Introduction (Network Protocols)</li>
              <li>Chapter 3: Data Link Layer (Error Detection & Correction)</li>
              <li>Chapter 6: Transport Layer (TCP Reliability)</li>
            </ul>
          </li>
          <li><strong>Data Communications and Networking</strong> by Behrouz A. Forouzan
            <ul>
              <li>Chapter 11: Data Link Control (Flow & Error Control)</li>
              <li>Chapter 23: Process-to-Process Delivery (UDP & TCP)</li>
            </ul>
          </li>
        </ul>
      </div>

      <div class="modal-section">
        <h3>ğŸ¥ Educational Video</h3>
        <div class="video-placeholder">
          <p>ğŸ“¹ <strong>Protocol Design & Implementation Tutorial</strong></p>
          <p>Topics covered:</p>
          <ul>
            <li>OSI Model and Application Layer Protocols</li>
            <li>Socket Programming in C</li>
            <li>Acknowledgment and Retry Mechanisms</li>
            <li>Duplex Communication with Threading</li>
          </ul>
          <p style="margin-top: 15px; color: #5eead4;">
            <em>Recommended: Search "TCP Socket Programming" and "Network Protocol Design" on YouTube</em>
          </p>
        </div>
      </div>

      <div class="modal-section">
        <h3>ğŸ“š References</h3>
        <ol>
          <li>Tanenbaum, A. S., & Wetherall, D. J. (2011). <em>Computer Networks</em> (5th ed.). Pearson.</li>
          <li>Forouzan, B. A. (2012). <em>Data Communications and Networking</em> (5th ed.). McGraw-Hill.</li>
          <li>Stevens, W. R. (1998). <em>UNIX Network Programming, Volume 1: Networking APIs</em>. Prentice Hall.</li>
          <li>RFC 793 - Transmission Control Protocol (TCP). IETF.</li>
          <li>Comer, D. E. (2014). <em>Internetworking with TCP/IP</em> (6th ed.). Pearson.</li>
        </ol>
      </div>

      <div class="modal-section">
        <h3>ğŸ”¨ How This Project Was Built</h3>
        <div class="build-step">
          <strong>Phase 1: Protocol Design</strong>
          <p>Defined message format, types, and communication flow based on TCP/IP principles</p>
        </div>
        <div class="build-step">
          <strong>Phase 2: C Implementation</strong>
          <p>Implemented socket programming with Berkeley sockets API, added threading for duplex communication</p>
        </div>
        <div class="build-step">
          <strong>Phase 3: Reliability Features</strong>
          <p>Added ACK mechanism, timeout timers, retry logic, and error handling</p>
        </div>
        <div class="build-step">
          <strong>Phase 4: Testing & Documentation</strong>
          <p>Created test scenarios, built web simulator for visualization, wrote comprehensive documentation</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Developed By Modal -->
  <div id="developedByModal" class="modal">
    <div class="modal-content">
      <span class="close" data-modal="developedByModal">&times;</span>
      <h2>ğŸ‘¥ Developed By</h2>
      
      <div class="team-container">
        <div class="team-member">
          <div class="member-photo">ğŸ‘¤</div>
          <h3>Your Name</h3>
          <p class="reg-no">Reg No: YOUR_REG_NUMBER</p>
          <p class="role">Lead Developer & Protocol Designer</p>
        </div>
        
        <div class="team-member">
          <div class="member-photo">ğŸ‘¤</div>
          <h3>Team Member 2</h3>
          <p class="reg-no">Reg No: MEMBER2_REG_NO</p>
          <p class="role">Implementation & Testing</p>
        </div>
        
        <div class="team-member">
          <div class="member-photo">ğŸ‘¤</div>
          <h3>Team Member 3</h3>
          <p class="reg-no">Reg No: MEMBER3_REG_NO</p>
          <p class="role">Documentation & Web Interface</p>
        </div>
      </div>

      <div class="modal-section" style="margin-top: 30px;">
        <h3>ğŸ“ Project Details</h3>
        <p><strong>Course:</strong> Computer Networks Lab</p>
        <p><strong>Project:</strong> Design Your Own Protocol (Project 4)</p>
        <p><strong>Institution:</strong> Your College Name</p>
        <p><strong>Year:</strong> 2025</p>
        <p><strong>Under the guidance of:</strong> Prof. [Professor Name]</p>
      </div>
    </div>
  </div>

  <!-- Help Modal -->
  <div id="helpModal" class="modal">
    <div class="modal-content modal-large">
      <span class="close" data-modal="helpModal">&times;</span>
      <h2>â“ Help - How to Use This Project</h2>
      
      <div class="modal-section">
        <h3>ğŸš€ Getting Started</h3>
        <div class="help-step">
          <strong>Step 1: Download Source Code</strong>
          <p>Go to the "C Implementation" tab and click the download buttons to get:</p>
          <ul>
            <li><code>scp_server_duplex.c</code> - Server program</li>
            <li><code>scp_client_duplex.c</code> - Client program</li>
            <li><code>Makefile</code> - Build configuration</li>
          </ul>
        </div>

        <div class="help-step">
          <strong>Step 2: Compile the Programs</strong>
          <p>Open terminal in the project directory and run:</p>
          <div class="code-example">
<pre>
# Using Makefile
make

# Or compile manually
gcc -o scp_server_duplex scp_server_duplex.c -lpthread
gcc -o scp_client_duplex scp_client_duplex.c -lpthread
</pre>
          </div>
        </div>

        <div class="help-step">
          <strong>Step 3: Run the Server</strong>
          <p>In Terminal 1:</p>
          <div class="code-example">
<pre>
./scp_server_duplex

# You should see:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  SCP Server v1.0 (Duplex Mode)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸŸ¢ Listening on port 8080...
</pre>
          </div>
        </div>

        <div class="help-step">
          <strong>Step 4: Run the Client</strong>
          <p>In Terminal 2 (keep server running):</p>
          <div class="code-example">
<pre>
./scp_client_duplex

# Enter your name when prompted
# Connection will be established
</pre>
          </div>
        </div>

        <div class="help-step">
          <strong>Step 5: Send Messages (Duplex)</strong>
          <p><strong>Both client and server can send messages!</strong></p>
          <ul>
            <li>Type message in Client terminal and press Enter</li>
            <li>Type message in Server terminal and press Enter</li>
            <li>Messages can be sent simultaneously from both sides</li>
            <li>Each message will be acknowledged</li>
          </ul>
        </div>

        <div class="help-step">
          <strong>Step 6: View the Results</strong>
          <p>Observe the following:</p>
          <ul>
            <li>âœ… Message sent confirmation</li>
            <li>ğŸ“¨ Message received notification</li>
            <li>âœ“ ACK received status</li>
            <li>âš  Timeout and retry messages (if network issues)</li>
          </ul>
        </div>

        <div class="help-step">
          <strong>Step 7: Terminate Connection</strong>
          <p>Type <code>quit</code> in either terminal to close connection gracefully</p>
        </div>
      </div>

      <div class="modal-section">
        <h3>ğŸ® Using the Live Simulator</h3>
        <div class="help-step">
          <strong>Interactive Web Simulator</strong>
          <ol>
            <li>Click on "Live Simulator" tab</li>
            <li>Use the input box at the bottom of <strong>Client panel</strong> to send messages from client</li>
            <li>Use the input box at the bottom of <strong>Server panel</strong> to send messages from server</li>
            <li>Watch animated message bubbles travel between panels</li>
            <li>Adjust controls to simulate network conditions:
              <ul>
                <li><strong>Network Delay:</strong> Time for message to travel</li>
                <li><strong>Packet Loss:</strong> Probability of message drop</li>
                <li><strong>ACK Timeout:</strong> How long to wait for acknowledgment</li>
                <li><strong>Max Retries:</strong> How many times to resend</li>
              </ul>
            </li>
          </ol>
        </div>
      </div>

      <div class="modal-section">
        <h3>ğŸ“Š Understanding the Output</h3>
        <table class="help-table">
          <tr>
            <th>Output Type</th>
            <th>Meaning</th>
            <th>Example</th>
          </tr>
          <tr>
            <td><code>SEND</code></td>
            <td>Message being sent</td>
            <td><code>SCP/1.0 | MSG | id=1 | Hello</code></td>
          </tr>
          <tr>
            <td><code>RECV</code></td>
            <td>Message received</td>
            <td><code>SCP/1.0 | ACK | id=1 | MSG_RECEIVED</code></td>
          </tr>
          <tr>
            <td><code>âœ“ ACK received</code></td>
            <td>Message successfully delivered</td>
            <td>Acknowledgment confirmed</td>
          </tr>
          <tr>
            <td><code>âš  TIMEOUT</code></td>
            <td>No ACK within time limit</td>
            <td>Will retry sending</td>
          </tr>
          <tr>
            <td><code>âœ— FAILED</code></td>
            <td>Max retries exceeded</td>
            <td>Message could not be delivered</td>
          </tr>
        </table>
      </div>

      <div class="modal-section">
        <h3>ğŸ”§ Troubleshooting</h3>
        <div class="warning">
          <strong>Problem: "Port already in use"</strong>
          <p>Solution: Either kill the existing process or change PORT in the code</p>
          <div class="code-example">
<pre>
# Find process using port 8080
lsof -i :8080
# Kill the process
kill -9 [PID]
</pre>
          </div>
        </div>

        <div class="warning">
          <strong>Problem: "Connection refused"</strong>
          <p>Solution: Make sure server is running before starting client</p>
        </div>

        <div class="warning">
          <strong>Problem: "pthread errors"</strong>
          <p>Solution: Make sure to link pthread library with <code>-lpthread</code> flag</p>
        </div>
      </div>

      <div class="modal-section">
        <h3>ğŸ“– Execution Flow Summary</h3>
        <div class="protocol-diagram">
<pre>
1. Start Server â†’ Listens on port 8080
2. Start Client â†’ Connects to server
3. Exchange HELLO messages
4. Both sides can now:
   - Send messages
   - Receive messages
   - Send ACKs
   - Handle timeouts
5. Type "quit" to disconnect
6. Connection terminates gracefully
</pre>
        </div>
      </div>

      <div class="modal-section">
        <h3>ğŸ’¡ Tips for Best Results</h3>
        <ul>
          <li>Always start the server before the client</li>
          <li>Keep both terminals visible to see duplex communication</li>
          <li>Try sending messages simultaneously from both sides</li>
          <li>Experiment with network delay in the simulator</li>
          <li>Use the web simulator to understand protocol behavior before running C code</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Download Modal -->
  <div id="downloadModal" class="modal">
    <div class="modal-content">
      <span class="close" data-modal="downloadModal">&times;</span>
      <h2>â¬‡ï¸ Download Project Report</h2>
      
      <div class="modal-section">
        <h3>ğŸ“„ Available Downloads</h3>
        <p>Generate and download a comprehensive project report including:</p>
        <ul>
          <li>Complete protocol documentation</li>
          <li>Implementation details</li>
          <li>Sample inputs and outputs</li>
          <li>Step-by-step execution procedure</li>
          <li>Test results and screenshots</li>
        </ul>
      </div>

      <div class="modal-section">
        <h3>ğŸ“‹ Report Contents</h3>
        <div class="download-section">
          <strong>1. Project Overview</strong>
          <ul>
            <li>Aim and objectives</li>
            <li>Tools and technologies</li>
            <li>Theory and background</li>
          </ul>
        </div>
        
        <div class="download-section">
          <strong>2. Protocol Design</strong>
          <ul>
            <li>Message format specification</li>
            <li>Protocol flow diagrams</li>
            <li>Duplex communication architecture</li>
          </ul>
        </div>

        <div class="download-section">
          <strong>3. Implementation Details</strong>
          <ul>
            <li>Complete C source code</li>
            <li>Compilation instructions</li>
            <li>Threading and socket programming details</li>
          </ul>
        </div>

        <div class="download-section">
          <strong>4. Execution Procedure</strong>
          <ul>
            <li>Step-by-step setup guide</li>
            <li>Sample input/output examples</li>
            <li>Terminal screenshots</li>
          </ul>
        </div>

        <div class="download-section">
          <strong>5. Results & Analysis</strong>
          <ul>
            <li>Test scenarios</li>
            <li>Performance metrics</li>
            <li>Error handling demonstrations</li>
          </ul>
        </div>
      </div>

      <div class="modal-section">
        <button class="download-report-btn" onclick="generateProjectReport()">
          ğŸ“¥ Download Complete Report (.doc)
        </button>
        
        <button class="download-report-btn" onclick="generateExecutionGuide()">
          ğŸ“˜ Download Execution Guide (.doc)
        </button>
        
        <button class="download-report-btn" onclick="generateSourceCode()">
          ğŸ’¾ Download All Source Files (.zip)
        </button>
      </div>

      <div class="success" style="margin-top: 20px;">
        <strong>ğŸ’¡ Note:</strong> Downloads include formatted documentation ready for submission with proper headings, diagrams, and code listings.
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
